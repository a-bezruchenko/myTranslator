<!DOCTYPE html> <!-- html 5 -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>New document</title>
    <script src="onStart.js"></script>
    <script src="utilitary.js"></script>
    <script src="tree.js"></script>
    <script src="lexer.js"></script>
    <script src="parser.js"></script>
    <script src="getData.js"></script>
</head>
<body>
    <pre><code class="language-js">
        (* вычислить модуль вектора *)
        MODULE Example;
        VAR size, i, sum: INTEGER;
         ARR: ARRAY 100 OF INTEGER;
        PROCEDURE Sqr(n:INTEGER ):INTEGER
            BEGIN
                RETURN n*n;
            END Sqr;
        BEGIN
            READ(size);
            IF (size < 0 OR size > 100) THEN
                PRINT("Неправильный размер векторов.")
            ELSIF (size = 0) THEN
                PRINT(0);
            ELSE
                i := 0;
                sum := 0;
                PRINT("Введите массив:")
                WHILE (i < size) DO
                    READ(ARR[i]);
                    INC i;
                END
                i := i - 1;
                REPEAT
                    sum := sum + Sqr(ARR[i]);
                    DEC i;
                UNTIL (i < 0);
                PRINT("Модуль вектора равен:");
                PRINT(sum);
            END
        END Example.
    </code></pre>
    <a href=#>Скачать html-файл с деревом</a>
    <p>
        <input class="button" type="button" value="Перерисовать дерево" onclick="run();">
        <b  class="green" id="run_out2_id" style="float:right; margin-right:1em; margin-top:-1em;"></b><br>
        <center>
            <div id="run_out_id" ></div>
            
            <script>
                document.getElementsByTagName('a')[0].onclick = function() {
                    var text = getHTML();
                    var csvData = 'data:application/txt;charset=utf-8,' + encodeURIComponent(text);
                    this.href = csvData;
                    this.target = '_blank';
                    this.download = 'tree.html';
                }
                run();
                function run()
                {
                    var tr = getStringTree(
                                    parser(
                                        lexer(
                                            document.querySelector(
                                                'code.language-js'),
                                            "lex_table.json")[0],
                                        "productionsTable.json",
                                        false))
                    drawTree(tr);

                    function drawTree(t)
                    {
                        document.getElementById('run_out_id').innerHTML = rewriteDiagonalLines(Tree.getSVG(Tree.parse(t)));
                    }

                }
            </script>
        </center>
    </p>
    

</body>
</html>